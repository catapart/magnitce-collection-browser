var r=`\r
\r
:host\r
{\r
    display: inline-flex;\r
    width: 80px;\r
    height: 80px;\r
    color-scheme: light dark;\r
}\r
\r
:host(:focus) figure\r
{\r
    border-color: rgb(205 205 205);\r
}\r
@media (prefers-color-scheme: dark) \r
{\r
    :host(:focus) figure\r
    {\r
        border-color: rgb(81 81 81);\r
    }\r
}\r
\r
figure\r
{\r
    flex: 1;\r
    display: grid;\r
    grid-template-rows: 1fr auto;\r
    margin: 0;\r
    padding: 0;\r
    border: solid 1px transparent;\r
}\r
:host(.selected) figure\r
{\r
    border-color: inherit;\r
}\r
\r
[part="selected"]\r
,::slotted([slot="selected"])\r
{\r
    grid-column: 1;\r
    grid-row: 1;\r
\r
    justify-self: flex-start;\r
    align-self: flex-start;\r
    z-index: 2;\r
\r
    opacity: 0;\r
    transition: opacity 200ms ease;\r
}\r
\r
:host(:not([select],[selectable])) [part="selected"]\r
,:host(:not([select],[selectable])) ::slotted([slot="selected"])\r
{\r
    display: none;\r
    pointer-events: none;\r
}\r
\r
[part="edit-button"]\r
,::slotted([slot="edit-button"])\r
{\r
    grid-column: 1;\r
    grid-row: 1;\r
\r
    justify-self: flex-end;\r
    align-self: flex-start;\r
    z-index: 2;\r
\r
    opacity: 0;\r
    transition: opacity 200ms ease;\r
}\r
\r
:host(:not([edit],[editable])) [part="edit-button"]\r
,:host(:not([edit],[editable])) ::slotted([slot="edit-button"])\r
{\r
    display: none;\r
    pointer-events: none;\r
}\r
\r
[part="icon"]\r
,::slotted([slot="icon"])\r
{\r
    grid-column: 1;\r
    grid-row: 1;\r
\r
    justify-self: center;\r
    align-self: center;\r
\r
    width: var(--icon-width, var(--icon-size));\r
    margin: .25em;\r
}\r
::slotted(img[slot="icon"])\r
{\r
    display: block;\r
    max-width: 100%;\r
    min-width: 0;\r
    max-height: 100%;\r
    min-height: 0;\r
}\r
.text-icon\r
{\r
    font-size: 36px;\r
    line-height: 1;\r
    margin: 0;\r
    padding: 0;\r
    box-sizing: border-box;\r
}\r
\r
[part="label"]\r
,::slotted([slot="label"])\r
{\r
    text-align: center;\r
    text-overflow: ellipsis;\r
    overflow: hidden;\r
}\r
\r
:host(:not([select],[selectable]):hover)  [part="edit-button"]\r
,:host(:not([select],[selectable]):hover) ::slotted([slot="edit-button"])\r
,:host(:focus)  [part="edit-button"]\r
,:host(:focus) ::slotted([slot="edit-button"])\r
,figure:has(:checked) [part="edit-button"]\r
,figure:has(:checked) ::slotted([slot="edit-button"])\r
,figure:has(:focus) [part="edit-button"]\r
,figure:has(:focus) ::slotted([slot="edit-button"])\r
,figure:has(:focus-within) [part="edit-button"]\r
,figure:has(:focus-within) ::slotted([slot="edit-button"])\r
{ \r
    opacity: 1;\r
}\r
\r
\r
:host(:hover) [part="selected"]\r
,figure:has(:checked) [part="selected"]\r
,figure:focus [part="selected"] \r
,figure:focus-within [part="selected"]\r
{ \r
    opacity: 1;\r
}`;var c=`<figure part="figure">\r
    <slot name="selected"><input type="checkbox" part="selected" /></slot>\r
    <slot name="edit-button"><button type="button" part="edit-button">&#9998;</button></slot>\r
    <slot name="icon"><span part="icon" class="text-icon">\u{1F5CE}</span></slot>\r
    <slot name="label"><figcaption part="label"><slot>Item</slot></figcaption></slot>\r
</figure>`;var h=new CSSStyleSheet;h.replaceSync(r);var d="captioned-thumbnail",a=class o extends HTMLElement{componentParts=new Map;getPart(e){if(this.componentParts.get(e)==null){let t=this.shadowRoot.querySelector(`[part="${e}"]`);t!=null&&this.componentParts.set(e,t)}return this.componentParts.get(e)}findPart(e){return this.shadowRoot.querySelector(`[part="${e}"]`)}static selectedClassName="selected";get isSelected(){return this.classList.contains(o.selectedClassName)}set isSelected(e){if(this.getAttribute("select")??this.getAttribute("selectable")==null)return;e==!0?this.classList.add(o.selectedClassName):this.classList.remove(o.selectedClassName);let t=this.findPart("selected");t!=null&&(t.checked=e)}editButton;constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=c,this.shadowRoot.adoptedStyleSheets.push(h),this.shadowRoot.querySelector("slot:not([name])").addEventListener("slotchange",t=>{let s="";for(let i=0;i<this.childNodes.length;i++){let n=this.childNodes[i];if(n.nodeType==Node.TEXT_NODE){let l=n.textContent?.trim()??"";l!=""&&(s+=l)}}this.title=s}),this.addEventListener("keydown",t=>{this.shadowRoot.activeElement==this.findPart("figure")&&t.code=="Space"&&(this.isSelected=!this.isSelected)}),this.addEventListener("click",t=>{if(t.stopPropagation(),this.getAttribute("select")??this.getAttribute("selectable")==null)return;let s=this.findPart("selected");if(s!=null){let i=this.classList.contains(o.selectedClassName),n=i==s.checked?"click":"input";i==!0?(this.classList.remove(o.selectedClassName),s.checked=!1):(this.classList.add(o.selectedClassName),s.checked=!0);let l=t;this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{shiftKey:l.shiftKey,ctrlKey:l.ctrlKey,method:n}}))}});let e=this.shadowRoot.querySelector('slot[name="edit-button"]');e.addEventListener("slotchange",()=>{let t=e.assignedElements()[0];this.editButton!=t&&(t.addEventListener("click",s=>(this.dispatchEvent(new CustomEvent("edit",{bubbles:!0})),s.stopPropagation(),s.preventDefault(),!1)),this.editButton=t)}),this.findPart("edit-button")?.addEventListener("click",t=>(this.dispatchEvent(new CustomEvent("edit",{bubbles:!0})),t.stopPropagation(),t.preventDefault(),!1))}static observedAttributes=["label","src","select","selectable"];attributeChangedCallback(e,t,s){if(e=="label"){let i=this.findPart("label")??this.querySelector(":not([slot])");i!=null&&(i.textContent=s,this.title=s)}else e=="src"?this.updateImage(s):(e=="select"||e=="selectable")&&(this.findPart("figure").tabIndex=0)}updateImage(e){let t=this.findPart("icon")??this.querySelector('[slot="icon"]');if(e==null){t?.remove(),t=document.createElement("span"),t.setAttribute("part","icon"),t.classList.add("text-icon"),t.textContent="\u{1F5CE}",this.shadowRoot.querySelector('slot[name="icon"]')?.appendChild(t);return}t!=null&&t.tagName!="img"&&(t.remove(),t=null),t==null&&(t=document.createElement("img"),t.setAttribute("alt","Icon"),t.setAttribute("title","Icon"),t.setAttribute("slot","icon"),this.appendChild(t)),t.src=e}};customElements.get(d)==null&&customElements.define(d,a);export{a as CaptionedThumbnailElement};
